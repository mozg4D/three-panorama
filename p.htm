<!DOCTYPE html><html lang="en"></html><head><meta name=viewport content="width=device-width, initial-scale=1, maximum-scale=1"><meta name=Description content="PanoramaViewer">
<style>.ico{position:absolute;width:32px;height:32px}.ico:hover{border:2px solid #fff;margin:-2px} canvas{touch-action:none}</style>
</head><body id="LinksBody" style="margin:0;background:#ddd;position:fixed;overflow:hidden;cursor:pointer;user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0)">
<svg style="right:7;top:7" onclick="fs()" class="ico"><path style="stroke:#ddd;fill:#fff" d="M0.5,0.5 31.5,0.5 31.5,31.5 0.5,31.5Z"></path>
<path style="stroke:#000;fill:none" d="M6,12 v-6 h6 M20,6 h6 v6 M26,20 v6 h-6 M12,26 h-6 v-6"></path></svg>

<svg id="zom" style="right:7;top:46" onclick="zm()" class="ico"><path style="stroke:#ddd;fill:#fff" d="M0.5,0.5 31.5,0.5 31.5,31.5 0.5,31.5Z"></path>
<path style="stroke:#000;fill:none" id="z" d="M10,16 h12 M16,10 v12"></path></svg>

<svg  id="gy0" style="right:7;top:124;visibility:hidden" onclick="gy()" class="ico"><path style="stroke:#ddd;fill:#fff" d="M0.5,0.5 31.5,0.5 31.5,31.5 0.5,31.5Z"></path>
<path style="stroke:#000;fill:none" d="M9.5,27.5 9.5,4.5 10.5,3.5 21.5,3.5 22.5,4.5 22.5,27.5 21.5,28.5 10.5,28.5 z M9,6.5 23,6.5 M 9,24.5 23,24.5 M14,26.5 18,26.5"></path>
<path id="g1" style="stroke:#000;fill:none" d="M14,15 17,18 14,21 M20,18 A8,3 0 0 0 28,15 A8,3 0 0 0 23,12 M7,12 A8,3 0 0 0 4,15 A8,3 0 0 0 8,17.3 M8,17.3 14,18 17,18"></path></svg>
<script src="three.js"></script>

<script> mouseIsDown=false
alpha=beta=gyo=0
scale=50
ww=window.innerWidth; wh=window.innerHeight

scene = new THREE.Scene()
renderer = new THREE.WebGLRenderer({ alpha: true })
renderer.setSize(ww, wh)
renderer.context.disable(renderer.context.DEPTH_TEST)

camera = new THREE.PerspectiveCamera( Math.min( scale + 20*wh/ww, 90 ), ww/wh, 3, 9)
camera.rotation.order = 'YXZ'

plane = new THREE.PlaneBufferGeometry( 10, 10 )
t1 = new THREE.TextureLoader().load( '1f1.jpg', ()=>{scene.add( p1 ); renderer.render( scene, camera )}); t1.minFilter = THREE.LinearFilter; t1.magFilter = THREE.NearestFilter; t1.generateMipmaps = false
t2 = new THREE.TextureLoader().load( '1r1.jpg', ()=>{scene.add( p2 ); renderer.render( scene, camera )}); t2.minFilter = THREE.LinearFilter; t2.magFilter = THREE.NearestFilter; t2.generateMipmaps = false
t3 = new THREE.TextureLoader().load( '1b1.jpg', ()=>{scene.add( p3 ); renderer.render( scene, camera )}); t3.minFilter = THREE.LinearFilter; t3.magFilter = THREE.NearestFilter; t3.generateMipmaps = false
t4 = new THREE.TextureLoader().load( '1l1.jpg', ()=>{scene.add( p4 ); renderer.render( scene, camera )}); t4.minFilter = THREE.LinearFilter; t4.magFilter = THREE.NearestFilter; t4.generateMipmaps = false
t5 = new THREE.TextureLoader().load( '1d1.jpg', ()=>{scene.add( p5 ); renderer.render( scene, camera )}); t5.minFilter = THREE.LinearFilter; t5.magFilter = THREE.NearestFilter; t5.generateMipmaps = false
t6 = new THREE.TextureLoader().load( '1u1.jpg', ()=>{scene.add( p6 ); renderer.render( scene, camera )}); t6.minFilter = THREE.LinearFilter; t6.magFilter = THREE.NearestFilter; t6.generateMipmaps = false
p1 = new THREE.Mesh( plane, new THREE.MeshBasicMaterial( {map: t1} )); p1.position.z = -5
p2 = new THREE.Mesh( plane, new THREE.MeshBasicMaterial( {map: t2} )); p2.position.x =  5; p2.rotation.y = -Math.PI/2
p3 = new THREE.Mesh( plane, new THREE.MeshBasicMaterial( {map: t3} )); p3.position.z =  5; p3.rotation.y =  Math.PI  
p4 = new THREE.Mesh( plane, new THREE.MeshBasicMaterial( {map: t4} )); p4.position.x = -5; p4.rotation.y =  Math.PI/2
p5 = new THREE.Mesh( plane, new THREE.MeshBasicMaterial( {map: t5} )); p5.position.y = -5; p5.rotation.set(-Math.PI/2, 0,  Math.PI/2)
p6 = new THREE.Mesh( plane, new THREE.MeshBasicMaterial( {map: t6} )); p6.position.y =  5; p6.rotation.set( Math.PI/2, 0, -Math.PI/2)

function rescale(){
    if(ww!=window.innerWidth || wh!=window.innerHeight) {ww=window.innerWidth; wh=window.innerHeight
    renderer.setSize(ww, wh)
    camera.aspect = ww / wh
    reset()}}

function reset(){
    camera.fov = Math.min( scale + 20*wh/ww, 90 )
    camera.updateProjectionMatrix()
    renderer.render( scene, camera )}

setInterval( rescale, 150)

document.body.appendChild(renderer.domElement)

onmousedown = (e)=>{mouseIsDown=true; x_coord=e.clientX; y_coord=e.clientY}
ontouchstart = (e)=>{mouseIsDown=true; x_coord=e.touches[0].clientX; y_coord=e.touches[0].clientY}
onmouseup = ()=>{mouseIsDown=false}
onmousemove = (e)=>{if(mouseIsDown){alpha -= (x_coord-e.clientX)/600; beta -= (y_coord-e.clientY)/600; rotateCam(); x_coord=e.clientX; y_coord=e.clientY}}
ontouchmove = (e)=>{if(mouseIsDown){alpha -= (x_coord-e.touches[0].clientX)/130; beta -= (y_coord-e.touches[0].clientY)/200; rotateCam(); x_coord=e.touches[0].clientX; y_coord=e.touches[0].clientY}}

function rotateCam(){
    if(beta> 1.57) beta= 1.57
    if(beta<-1.57) beta=-1.57
    camera.rotation.set(beta, alpha, 0)
    renderer.render( scene, camera )}

fss=false; function fs(){fss=!fss; fss ? LinksBody.requestFullscreen() : document.exitFullscreen()}
function zm(){
    if(scale==50){z.setAttribute("d","M10,16 h12");   scale=20; reset()}
    else{z.setAttribute("d","M10,16 h12 M16,10 v12"); scale=50; reset()}}
function gy(){
    if(!gyo){gyo=1; g1.setAttribute("d","M14,16 a1,1 0 0 0 4,0 a1,1 0 0 0 -4,0"); window.addEventListener("devicemotion", gyro )}
    else{    gyo=0; g1.setAttribute("d","M14,15 17,18 14,21 M20,18 A8,3 0 0 0 28,15 A8,3 0 0 0 23,12 M7,12 A8,3 0 0 0 4,15 A8,3 0 0 0 8,17.3 M8,17.3 14,18 17,18"); window.removeEventListener("devicemotion", gyro )}}
function gyro(){
    if(window.orientation==  0) {alpha += event.rotationRate.beta/6000; beta  += event.rotationRate.alpha/6000}
    if(window.orientation== 90) {beta  -= event.rotationRate.beta/6000; alpha += event.rotationRate.alpha/6000}
    if(window.orientation==-90) {beta  += event.rotationRate.beta/6000; alpha -= event.rotationRate.alpha/6000}
    rotateCam()}

window.addEventListener("devicemotion", ()=>{if(event.rotationRate.alpha || event.rotationRate.beta || event.rotationRate.gamma) gy0.style.visibility="visible"})
</script></body>